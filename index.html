<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Sakha AI</title>
<style>
body {
  margin:0; font-family:Poppins,Arial;
  background:linear-gradient(135deg,#0f172a,#020617);
  color:white;
}
.container{
  max-width:420px;
  margin:40px auto;
  background:#020617;
  border-radius:20px;
  padding:15px;
  box-shadow:0 0 25px #38bdf8;
}
h2{text-align:center;color:#38bdf8;}
#chat{
  height:350px;
  overflow-y:auto;
  padding:10px;
  background:#020617;
  border-radius:10px;
}
.msg-user{color:#facc15;margin:8px 0;}
.msg-ai{color:#38bdf8;margin:8px 0;}
input,button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  margin-top:6px;
}
button{
  background:#38bdf8;
  font-weight:bold;
}
.voice{
  background:#22c55e;
}
</style>
</head>

<body>
<div class="container">
<h2>ðŸ¤– Sakha AI</h2>
<div id="chat"></div>

<input id="input" placeholder="Tanya pelajaran apa saja..." />
<button onclick="send()">Kirim</button>
<button class="voice" onclick="toggleVoice()">ðŸŽ¤ Voice: ON</button>
</div>

<script>
const API_KEY = "Sakha21";
let voiceOn = true;

function toggleVoice(){
  voiceOn = !voiceOn;
  alert("Voice " + (voiceOn?"ON":"OFF"));
}

async function send(){
  let input = document.getElementById("input");
  let chat = document.getElementById("chat");
  let text = input.value;
  if(!text) return;

  chat.innerHTML += `<div class="msg-user"><b>Kamu:</b> ${text}</div>`;
  input.value = "";

  let response = await fetch("https://api.openai.com/v1/chat/completions",{
    method:"POST",
    headers:{
      "Content-Type":"application/json",
      "Authorization":"Bearer "+API_KEY
    },
    body:JSON.stringify({
      model:"gpt-4o-mini",
      messages:[
        {role:"system",content:
        "Kamu adalah Sakha AI, asisten pelajaran SDâ€“SMP. Jawaban harus ramah, singkat, dan mudah dipahami."},
        {role:"user",content:text}
      ]
    })
  });

  let data = await response.json();
  let reply = data.choices[0].message.content;

  chat.innerHTML += `<div class="msg-ai"><b>Sakha AI:</b> ${reply}</div>`;
  chat.scrollTop = chat.scrollHeight;

  if(voiceOn){
    let speech = new SpeechSynthesisUtterance(reply);
    speech.lang = "id-ID";
    speechSynthesis.speak(speech);
  }
}
</script>
</body>
</html>
